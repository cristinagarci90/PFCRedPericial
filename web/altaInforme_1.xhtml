<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    
   
    <!--h:head>
        <title>Gestión Provincia</title>
    </h:head>
    <h:body-->
     <ui:composition template="/WEB-INF/facelets/templates/#{Login.usuarioRol}.xhtml">
	<ui:define name="title">
		Gestión Pericial - Alta de informe
	</ui:define>
        <ui:define name="content">
            
            
    
        <h:form id="form">  
     <center>
            <p:panel id="panel"  header="Nuevo Informe" style="  width: 80%;  table-layout: auto;  alignment-adjust: central; background-color: transparent;"  ><!-- header="Provincia"--> 
               
                <table  width="100%" FRAME="void" RULES="rows" style="font-weight: bold;" border="1" cellpadding="8px" >
                    <tr >
                                                                 <td align="right">Id:</td>
                                                                 <td>
                                                                     <h:outputLabel value="#{informeManagedBean.actualNuevo.idinforme}"/>
                                                                  </td>

                                                                 <td align="right">Asegurado:</td>
                                                               <td>
                                                                  <h:outputLabel value="#{informeManagedBean.actualNuevo.asegurado}"/>           

                                                                 </td>
                                                             </tr>
                                                    <tr>
                                                                 <td align="right">Cliente Solititante:</td>
                                                                 <td>
                                                                     <h:selectOneMenu id="clientesolicitante" required="true" requiredMessage="#{msg['Required_field__Customer_apllicant']}" value="#{informeManagedBean.actualNuevo.clientesolicitante}" style="width:175px">   
                                                                            <f:selectItem 
                                                                                     itemLabel="#{msg['Select_a_customer']}" 
                                                                                     itemValue="" /> 
                                                                            <f:selectItems value="#{clienteManagedBean.provvalor}"/> 
                                                                             <p:ajax update="msgClientesolicitante" event="valueChange"/>
                                                                    </h:selectOneMenu>
                                                                 </td>

                                                                 <td align="right">Cliente Informe:</td>
                                                               <td>
                                                                   <h:selectOneMenu  id="clientecabecerainf" required="true" requiredMessage="#{msg['Required_field__Customer_report']}" value="#{informeManagedBean.actualNuevo.clientecabecerainf}" style="width:175px">   
                                                                            <f:selectItem 
                                                                                     itemLabel="#{msg['Select_a_customer']}" 
                                                                                     itemValue="" /> 
                                                                            <f:selectItems value="#{clienteManagedBean.provvalor}"/>
                                                                             <p:ajax update="msgClientecabecerainf" event="valueChange"/>
                                                                    </h:selectOneMenu>

                                                                 </td>
                                                             </tr>
                                                     <tr>
                                                                 <td align="right">Fecha peritación:</td>
                                                                 <td>
                                                                   <p:calendar value="#{informeManagedBean.actualNuevo.fechaperitacionformulario}" required="true" requiredMessage="#{msg['Required_field__Date_of_Expertise']}" id="fechaperitacion" showButtonPanel="true" navigator="true"  locale="es" mode="popup">  
                                                                            <p:ajax event="dateSelect" update="msgFechaperitacion" />  
                                                                     </p:calendar>
                                                                     <p:message for="fechaperitacion" id="msgFechaperitacion" />    

                                                                 </td>  
                                                                    <td align="right">Perito:</td>
                                                                 <td>
                                                                     <h:selectOneMenu required="true"  id="perito" value="#{informeManagedBean.actualNuevo.perito}" style="width:175px">   
                                                                            <f:selectItem 
                                                                                     itemLabel="#{msg['Select_a_proficient']}" 
                                                                                     itemValue="" /> 
                                                                            <f:selectItems value="#{peritoManagedBean.provvalor}"/> 
                                                                            <p:ajax update="msgPerito" event="valueChange"/>
                                                                    </h:selectOneMenu>

                                                                 </td>
                                                             </tr> 
                                                   <tr >
                                                                 <td align="right">&nbsp;&nbsp;&nbsp;Tipo de informe:</td>
                                                                 <td>
                                                                     <h:selectOneMenu required="true"  id="tipoinforme" value="#{informeManagedBean.actualNuevo.tipoinforme.idtipoinforme}" style="width:175px">   
                                                                            <f:selectItem 
                                                                                     itemLabel="Tipo de informe" 
                                                                                     itemValue="" /> 
                                                                            <f:selectItems value="#{tipoinformeManagedBean.provvalor}"/> 
                                                                              <p:ajax update="msgTipoinforme" event="valueChange"/>
                                                                    </h:selectOneMenu>

                                                                 </td>
                                                                 <td align="right">&nbsp;&nbsp;&nbsp;Cobertura:</td>
                                                                 <td>
                                                                 <h:selectOneMenu  id="cobertura" required="true" value="#{informeManagedBean.actualNuevo.cobertura.idcobertura}" style="width:175px">   
                                                                            <f:selectItem 
                                                                                     itemLabel="Cobertura" 
                                                                                     itemValue="" /> 
                                                                            <f:selectItems value="#{coberturasManagedBean.provvalor}"/> 
                                                                            <p:ajax update="msgCobertura" event="valueChange"/>
                                                                    </h:selectOneMenu>


                                                                 </td>
                                                               </tr>
                                                              <tr><td colspan="4"><br/></td></tr>

                                                    <tr>
                                                                   <td colspan="4">
                                                                       <table>
                                                                           <tr>
                                                                                <td align="right">#{msg['policy']}:</td>
                                                                                 <td>
                                                                                     <h:inputText label="#{msg['policy']}" required="true" requiredMessage="#{msg['Required_field']} - #{msg['policy']}" id="poliza" value="#{informeManagedBean.actualNuevo.poliza}">
                                                                                         <p:ajax update="msgPoliza" event="keyup" />  
                                                                                     </h:inputText>
                                                                                     <!--h:message for="personaContacto" /-->
                                                                                 </td>
                                                                                  <td align="right">&nbsp;&nbsp;&nbsp;#{msg['accident']}:</td>
                                                                                  <td>
                                                                                     <h:inputText label="#{msg['accident']}"  required="true" requiredMessage="#{msg['Required_field']} - #{msg['accident']}" id="siniestro"  value="#{informeManagedBean.actualNuevo.siniestro}">
                                                                                          <p:ajax update="msgSiniestro" event="keyup" />  
                                                                                     </h:inputText>
                                                                                 </td>





                                                                                  <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Convenio:</b></td>
                                                                                  <td>
                                                                                      <h:selectOneRadio id="convenio" required="true" requiredMessage="Campo requerido=Convenio" value="#{informeManagedBean.actualNuevo.convenio}">
                                                                                          <f:selectItem itemValue="1" itemLabel="Si"/>
                                                                                          <f:selectItem itemValue="2" itemLabel="No"/>
                                                                                             <p:ajax update="msgConvenio" event="valueChange"/>
                                                                                      </h:selectOneRadio>

                                                                                  </td>
                                                                                  <td>&nbsp;&nbsp;&nbsp;<b>Compromiso : </b></td>
                                                                                  <td>
                                                                                      <h:selectOneRadio id="compromiso" required="true" requiredMessage="Campo requerido=Compromiso" value="#{informeManagedBean.actualNuevo.compromiso}">
                                                                                         <f:selectItems value="#{informeManagedBean.compromisoInforme}" />
                                                                                            <p:ajax update="msgCompromiso" event="valueChange"/>
                                                                                      </h:selectOneRadio>
                                                                                  </td>


                                                                           </tr>
                                                                       </table>
                                                                   </td>

                                                             </tr>
                                                             <tr >
                                                                  <td colspan="4">
                                                                       <table width="100%">
                                                                           <tr>
                                                                                <td align="right"><b>Peritar a :</b></td>
                                                                                 <td>
                                                                                     <h:selectOneRadio  required="true" requiredMessage="Campo obligatirio - Peritar a" id="peritara" value="#{informeManagedBean.actualNuevo.peritara}" >
                                                                                          <f:selectItem itemValue="1" itemLabel="Asegurado"/>
                                                                                          <f:selectItem itemValue="2" itemLabel="Contrario"/>
                                                                                             <p:ajax update="msgPeritara" event="valueChange"/>
                                                                                      </h:selectOneRadio>
                                                                                 </td>
                                                                                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Intervino la policia :</b></td>
                                                                                  <td>
                                                                                      <h:selectOneRadio id="intervinopolicia" required="true" requiredMessage="Campo obligatorio-Intervino la policía" value="#{informeManagedBean.actualNuevo.intervinopolicia}">
                                                                                          <f:selectItem itemValue="1" itemLabel="Si"/>
                                                                                          <f:selectItem itemValue="2" itemLabel="No"/>
                                                                                           <p:ajax update="msgIntervinopolicia" event="valueChange"/>
                                                                                      </h:selectOneRadio>

                                                                                  </td>
                                                                                   <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Culpabilidad :</b></td>
                                                                                  <td>
                                                                                       <h:selectOneRadio id="culpabilidad" required="true" requiredMessage="Campo obligatorio-Culpabilidad" value="#{informeManagedBean.actualNuevo.culpabilidad}">
                                                                                          <f:selectItem itemValue="1" itemLabel="Si"/>
                                                                                          <f:selectItem itemValue="2" itemLabel="No"/>
                                                                                          <p:ajax update="msgCulpabilidad" event="valueChange"/>
                                                                                       </h:selectOneRadio>

                                                                                  </td>


                                                                           </tr>
                                                                       </table>
                                                                   </td>

                                                             </tr>
                                                               <tr><td colspan="4"><br/></td></tr>
                                                                <tr>
                                                                 <td align="right">#{msg['Select_a_province']}:</td>
                                                                 <td>
                                                                   <h:selectOneMenu  id="siniestroprovincia" required="true" requiredMessage="#{msg['Required_field']} - #{msg['Select_a_province']}"  value="#{informeManagedBean.actualNuevo.siniestroprovincia}" style="width:175px">   
                                                                            <f:selectItem 
                                                                                     itemLabel="#{msg['Select_a_province']}" 
                                                                                     itemValue="" /> 
                                                                            <f:selectItems value="#{provinciasManagedBean.provvalor}"/> 
                                                                            <f:ajax execute="@this" render="siniestropoblacion"/> 
                                                                            <p:ajax update="msgSiniestroprovincia" event="valueChange"/>  
                                                                    </h:selectOneMenu>
                                                                 </td>
                                                                <td align="right">Siniestro Población:</td>
                                                                <td> 
                                                                   <h:selectOneMenu  id="siniestropoblacion" required="true" requiredMessage="#{msg['Required_field']} - Poblacion" value="#{informeManagedBean.actualNuevo.siniestropoblacion}" style="width:175px">   
                                                                            <f:selectItem 
                                                                                     itemLabel="#{msg['Select_a_province']}" 
                                                                                     itemValue="" /> 
                                                                            <f:selectItems value="#{poblacionesManagedBean.getPoblaciones(informeManagedBean.actualNuevo.siniestroprovincia)}"/> 
                                                                              <p:ajax update="msgSiniestropoblacion" event="valueChange"/>
                                                                    </h:selectOneMenu>



                                                                 </td>

                                                             </tr>   
                                                               <tr>
                                                                   <td colspan="5">
                                                                        <p:message for="clientecabecerainf" id="msgClientecabecerainf" />
                                                                        <p:message for="clientesolicitante" id="msgClientesolicitante" />
                                                                        <p:message for="perito" id="msgPerito" />
                                                                        <p:message for="tipoinforme" id="msgTipoinforme" />
                                                                        <p:message for="cobertura" id="msgCobertura" />
                                                                        <p:message for="poliza" id="msgPoliza" />
                                                                         <p:message for="siniestro" id="msgSiniestro" />
                                                                        <p:message for="siniestropoblacion" id="msgSiniestropoblacion" />
                                                                        <p:message for="siniestroprovincia" id="msgSiniestroprovincia" />
                                                                        <p:message for="convenio" id="msgConvenio" />
                                                                        <p:message for="compromiso" id="msgCompromiso" />
                                                                        <p:message for="peritara" id="msgPeritara" />
                                                                         <p:message for="intervinopolicia" id="msgIntervinopolicia" />
                                                                         <p:message for="culpabilidad" id="msgCulpabilidad" />



                                                                   </td>
                                                               </tr>
                                                         </table>
                   
                    <p:button outcome="listInformes" value="Listado de Informes"/> 
                     <h:commandButton action="listInformes" value="Listado de Informes"/>
                   <h:commandButton type="reset" value="Borrar"/>
                   <h:commandButton action="#{informeManagedBean.newRegister}" value="Guardar"/>
                   
                
              

    </p:panel>  
  </center>  
</h:form>  
            
</ui:define>

</ui:composition>
    <!--/h:body-->
</html>