<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
         
    
    

    <ui:composition template="/WEB-INF/facelets/templates/#{Login.usuarioRol}.xhtml">
	<ui:define name="title">
		Gestión Pericial - Alta de Clientes
	</ui:define>
        <ui:define name="content">
            
            <center>
    
    <h:form>  
        
      <h3><bold>ALTA DE CLIENTE</bold></h3>
            <br></br>
      <p:accordionPanel id="nuevocliente" multiple="true" style="width: 800px"  activeIndex="null" dynamic="false">
     
      <p:tab title="Tipo de Cliente" id="tipo">
             
      <table>
      <tr>
      <td align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Solicitante :</td>
      <td align="left">
         <h:selectOneRadio id="solicitante" required="true" requiredMessage="Campo obligatorio-Solicitante" value="#{clienteManagedBean.actualNuevo.solicitante}">
          <f:selectItem itemValue="S" itemLabel="Si"/>
          <f:selectItem itemValue="N" itemLabel="No"/>     
         </h:selectOneRadio>
        <p:message for="solicitante"/>
        </td>
                   </tr>
                   
                   
                     <tr>
                         <td align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pagador :</td>
                         <td align="left">
        <h:selectOneRadio id="pagador" required="true" requiredMessage="Campo obligatorio-Pagador" value="#{clienteManagedBean.actualNuevo.pagador}">
          <f:selectItem itemValue="S" itemLabel="Si"/>
          <f:selectItem itemValue="N" itemLabel="No"/>     
        </h:selectOneRadio>
        <p:message for="pagador"/>   
        </td>
                   </tr>
                   
                   
                   <tr>
                       <td align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cabecera de Factura :</td>
                       <td align="left">
            <h:selectOneRadio id="cabecera_factura" required="true" requiredMessage="Campo obligatorio-CabeceraFactura" value="#{clienteManagedBean.actualNuevo.cabecerafac}">
          <f:selectItem itemValue="S" itemLabel="Si"/>
          <f:selectItem itemValue="N" itemLabel="No"/>     
        </h:selectOneRadio>
          <p:message for="cabecera_factura"/>  
        </td>
                   </tr>
        
          <tr>
              <td align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cabecera de Informe :</td>
              <td align="left">
            <h:selectOneRadio id="cabecera_informe" required="true" requiredMessage="Campo obligatorio-CabeceraInforme" value="#{clienteManagedBean.actualNuevo.cabecerainf}">
          <f:selectItem itemValue="S" itemLabel="Si"/>
          <f:selectItem itemValue="N" itemLabel="No"/>     
        </h:selectOneRadio>
       <p:message for="cabecera_informe"/>
        </td>
                   </tr>
               </table>

     
         </p:tab>       
         
         
            <p:tab title="Informacion Basica">  
                                
                                <table>
                                    <tr>
                                        <td align="left">    
                                             <h:outputLabel value="Nombre :" /> 
                                        </td>
                                    <td align="left"> 
                                    <p:inputText id="nombre" value="#{clienteManagedBean.actualNuevo.nombre}" required="true"
                                                 requiredMessage="Nombre requerido"
                                                 validatorMessage="maximo 45 caracteres" >
                                        <f:validateLength maximum="45" />
                                       
                                    </p:inputText>
                                    <p:watermark for="nombre" value="Nombre Cliente *" />
                                    <p:message for="nombre"/>
                                    </td>
                                        
                                     <td align="left">
                                            <h:outputLabel value="CIF :" />
                                        </td>
                                    <td align="left">
                                        <p:inputText id="cif" value="#{clienteManagedBean.actualNuevo.cif}" required="true"
                                                 requiredMessage="Cif requerido"
                                                 validatorMessage="maximo 45 caracteres" >
                                        <f:validateLength maximum="45" />
                                    </p:inputText>
                                     <p:watermark for="cif" value="Cif Cliente *" />
                                     <p:message for="cif"/>
                                    </td>
                                    </tr>
                                    
                                    <tr>
                                        <td align="left">
                                            <h:outputLabel value="Telefono1 : " />
                                        </td>
                                        <td align="left">
                                    <p:inputText id="telefono1" value="#{clienteManagedBean.actualNuevo.telefono1}" />
                                    <p:watermark for="telefono1" value="Telefono1 Cliente " />
                                    <p:message for="telefono1" /> 
                                        </td>
                                    <td align="left">  
                                        <h:outputLabel value="Telefono2 :" />
                                    </td>
                                    <td align="left">
                                    <p:inputText id="telefono2" value="#{clienteManagedBean.actualNuevo.telefono2}" />
                                     <p:message for="telefono2" />
                                    <p:watermark for="telefono2" value="Telefono2 Cliente" />
                                    </td>
                                    </tr>
                                    
                                                                    
                                    
                                    <tr>
                                    <td align="left">  
                                        <h:outputLabel value="Web :" />
                                    </td>
                                    <td align="left">
                                    <p:inputText id="web" value="#{clienteManagedBean.actualNuevo.web}" />
                                    <p:watermark for="web" value="Web Cliente" />
                                   
                                    </td>
                                        
                                    <td align="left">  
                                        <h:outputLabel value="Email :" />
                                    </td>
                                    <td align="left">
                                        <p:inputText id="email"  validatorMessage="Formato de email no válido" value="#{clienteManagedBean.actualNuevo.email}">
                                        <f:validateRegex
                        		pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                        </p:inputText>
                                    <p:watermark for="email" value="Direccion Email " />
                                    <p:message for="email" />

                                    </td>
                                    </tr>                                
                                    
                                    
                                    
                                    <tr>
                                    <td align="left">  
                                        <h:outputLabel value="Fax :" />
                                    </td>
                                    <td align="left">
                                    <p:inputText id="fax" value="#{clienteManagedBean.actualNuevo.fax}" />
                                    <p:watermark for="fax" value="Fax Cliente" />
                                     <p:message for="fax" />
                                    
                                    </td>
                                        
                                     <td align="left">  
                                        <h:outputLabel value="Persona de contacto :"/> 
                                    </td>
                                    <td align="left">
                                        <p:inputText id="persona_contacto" value="#{clienteManagedBean.actualNuevo.personaContacto}" />
                                    <p:watermark for="persona_contacto" value="Persona Contacto" />
                                   
                                    </td>
                                    </tr>
                                                                  
                                    
                                   
                                    
                                    
                                     <tr>
                                    <td align="left">  
                                        <h:outputLabel value="Comentario :" />
                                    </td>
                                    <td align="left">
                                    <p:inputText id="comentario" value="#{clienteManagedBean.actualNuevo.comentario}" />
                                    <p:watermark for="comentario" value="Comentario" />
                                    <p:message for="comentario" />
                                    </td>
                                         
                                     <td align="left">
                                        <h:outputLabel value="Direccion :" />
                                    </td>
                                    <td align="left">
                                    <p:inputText id="direccion" value="#{clienteManagedBean.actualNuevo.direccion}" required="true"
                                                 requiredMessage="Direccion requerida"
                                                 validatorMessage="maximo 45 caracteres" >
                                        <f:validateLength maximum="45" />
                                    </p:inputText>
                                    <p:message for="direccion" />
                                    <p:watermark for="direccion" value="Direccion *" />
                                    </td>    
                                    </tr>
                                    
                                    
                                    
                                 
                                    <tr>
                                    <td align="left">
                                        <h:outputLabel value="Codigo Postal :" />
                                    </td>
                                        <td align="left">
                                    <p:inputText id="codigoPostal" value="#{clienteManagedBean.actualNuevo.codigoPostal}"/>                                     
                                    
                                    <p:watermark for="codigoPostal" value="Codigo Postal" />
                                        </td>
                                    </tr>                
                                       
                                                                                                        
                                    <tr>
                                       <td align="left">
                                           <h:outputLabel value="Provincia/Población :" />
                                        </td> 
                                        <td>   
                                            <p:selectOneMenu id="provincia" value="#{clienteManagedBean.actualNuevo.idprovincia}" style="width:175px" 
                                                             required="true" requiredMessage="Provincia obligatoria"> 
                                                <f:selectItem 
                                                            itemLabel="Seleccione una provincia" 
                                                itemValue="" /> 
                                        <f:selectItems value="#{provinciasManagedBean.provvalor}"/> 
                                        <f:ajax 
                                        execute="@this" 
                                        render="poblacion"/>                                         
                                         </p:selectOneMenu>  
                                         <p:message for="provincia" />
                                        </td>  
                                        <td>   
                                            <p:selectOneMenu  value="#{clienteManagedBean.actualNuevo.idpoblacion}" id="poblacion" style="width:175px"
                                                              required="true" requiredMessage="Poblacion Obligatoria"> 
                                         <f:selectItem itemLabel="Seleccione una Población" 
                                        itemValue=""/> 
                                        <f:selectItems value="#{poblacionesManagedBean.getPoblaciones(clienteManagedBean.actualNuevo.idprovincia)}"/> 
                                        </p:selectOneMenu>
                                        </td>
                                    </tr>
                                        
                                  
                                                                
                                </table>
                        </p:tab>
                
         
         <p:tab title="Informacion Contable" >
         
             <table>
                 <tr>
             <td align="left">  
             <h:outputLabel value="Iva :" />
             </td>
            <td align="left">  
            <p:inputText id="iva" value="#{clienteManagedBean.actualNuevo.iva}" />
             <p:message for="iva"/>
            </td>
            </tr>
                 <tr>
             <td align="left">  
             <h:outputLabel value="Irpf :" />
             </td>
             <td align="left">  
             <p:inputText id="irpf" value="#{clienteManagedBean.actualNuevo.irpf}" />
             <p:message for="irpf"/>
             </td>
                 </tr> 
              <tr>    
             <td align="left">  
             <h:outputText value="Fecha de alta :" /> 
             </td>
             <td align="left">  
             <h:outputText value="#{clienteManagedBean.actualNuevo.fechaAlta}" id="popupButtonDate">              
             <f:convertDateTime pattern="dd/mm/yyyy"/>  
             </h:outputText>            
                 
             <p:calendar value="#{clienteManagedBean.actualNuevo.fechaAlta}" id="popupButtonCal" showOn="button" />
             </td>
              </tr>
                 
                 <tr>
             <td align="left">  
             <h:outputLabel value="Cuenta :" />
             </td>
             <td align="left">  
             <p:inputText id="cuentaContable" value="#{clienteManagedBean.actualNuevo.cuentaContable}" />
             <p:message for="cuentaContable"/>
             </td>
                 </tr> 
             </table>
     
         </p:tab>
                            
          
         
         
         
         <p:tab title="Avances" >
         
             <table>
                 <tr>
             <td align="left">  
             <h:outputLabel value="Dias del primer avance :"/>
             </td>
            <td align="left">  
                <p:inputText id="dias_primer_avance" value="#{clienteManagedBean.actualNuevo.diasPrimerAvance}" required="true" requiredMessage="Dias_Primer_Avance Obligatorio"/>
            <p:message for="dias_primer_avance" />
            </td>
            </tr>
                 <tr>
             <td align="left">  
             <h:outputLabel value="Periodicidad de los avances :" />
             </td>
             <td align="left">  
                 <p:inputText id="periodicidad_avances" value="#{clienteManagedBean.actualNuevo.periodicidadAvances}" required="true" requiredMessage="Periodicidad_Avances_Obligatorio"/>
                 <p:message for="periodicidad_avances"/>
             </td>
                 </tr>
                 
                
             </table>
         </p:tab>
            
          
        </p:accordionPanel>  
            
       
            
          
         
         
       
       
         
         
          
        
         
             
                 
                 
            
        
       
        
        
        
        
                <center>
                  <h:outputLabel value="Baja: " for="baja"/> 
                    <p:watermark for="baja" value="Baja S/N">
                  <p:selectOneMenu value="#{clienteManagedBean.actualNuevo.baja}" required="true" id="baja" >
                      
                        <f:selectItem itemLabel="N" itemValue="N" />              
                        <f:selectItem itemLabel="S" itemValue="S" />  
            
                </p:selectOneMenu> 
                    </p:watermark>
         <br></br>
         <p:messages id="messages" />
                    
                 <br></br>
                  
                 
                
           
                 <h:commandButton action="#{clienteManagedBean.newRegister()}" value="Guardar"/>
                </center>
        
       
            
               
                
                
                
               
    

        
        
        
        
        
</h:form>  
                
                
   </center>           
</ui:define>

</ui:composition>
    
</html>           

